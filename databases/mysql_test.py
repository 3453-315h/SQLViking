import trace, sys
from sys import path
path.append("pymysql/")
import connections

tracer = trace.Trace(count=False,trace=True)

data = '01000001054000000203646566067465737464620d437573746f6d65724c6f67696e0d437573746f6d65724c6f67696e05656d61696c05656d61696c0c080064000000fd03500000005200000303646566067465737464620d437573746f6d65724c6f67696e0d437573746f6d65724c6f67696e0e637573746f6d65724e756d6265720e637573746f6d65724e756d6265720c3f000b0000000301100000004600000403646566067465737464620d437573746f6d65724c6f67696e0d437573746f6d65724c6f67696e0870617373776f72640870617373776f72640c080028000000fd01100000004c00000503646566067465737464620d437573746f6d65724c6f67696e0d437573746f6d65724c6f67696e0b7175657374696f6e5f69640b7175657374696f6e5f69640c3f00060000000200000000004200000603646566067465737464620d437573746f6d65724c6f67696e0d437573746f6d65724c6f67696e06616e7377657206616e737765720c080032000000fd000000000005000007fe00002100350000081d61647269616e40636f696e616765616e647468696e6773636f2e636f6d033238320c636d4670626d4a7664773d3d0132034e590d05000009fe00002100'.decode('hex')
#data = '31000001ff7a042334325330325461626c6520277465737464622e6e6f6e6578697374616e742720646f65736e2774206578697374'.decode('hex')
#data = '01000001054000000203646566067465737464620d437573746f6d65724c6f67696e0d437573746f6d65724c6f67696e05656d61696c05656d61696c0c080064000000fd03500000005200000303646566067465737464620d437573746f6d65724c6f67696e0d437573746f6d65724c6f67696e0e637573746f6d65724e756d6265720e637573746f6d65724e756d6265720c3f000b0000000301100000004600000403646566067465737464620d437573746f6d65724c6f67696e0d437573746f6d65724c6f67696e0870617373776f72640870617373776f72640c080028000000fd01100000004c00000503646566067465737464620d437573746f6d65724c6f67696e0d437573746f6d65724c6f67696e0b7175657374696f6e5f69640b7175657374696f6e5f69640c3f00060000000200000000004200000603646566067465737464620d437573746f6d65724c6f67696e0d437573746f6d65724c6f67696e06616e7377657206616e737765720c080032000000fd000000000005000007fe00002100350000081d61647269616e40636f696e616765616e647468696e6773636f2e636f6d033238320c636d4670626d4a7664773d3d0132034e590d320000091a616c656a616e64726140616e67726573656c6c6572732e6e657403323337086148567564475679013307616e696d616c0d3500000a17616c657840706f72746f696d706f727473636f2e6e6574033136390c59323974634856305a58493d013209436f6c6f7261646f0d3a00000b20616c6c656e40636f6c6c65637461626c6573666f726c657373696e632e6e65740333373908646d6c775a58493d01340970617373776f72640d3400000c18616c7461676172407261616e616e73746f7265732e6e657403343831084d5445784d54457801320b43616c69666f726e69610d2c00000d17616e6e6574746540616c706861636f676e61632e6e657403323432085a326c755a3256790133046361740d2c00000e16616e746f6e40616e746f6e64657369676e732e6e65740334363508616d467a63475679013405617364660d2d00000f1561726e6f6c64406372757a736f6e73636f2e6e657403333835085a6d3976596d4679013307616e696d616c0d2d00001015617368776f72746840617673746f7265732e6e6574033138370859574668595746680134073132333435360d330000111e6265727472616e64406c61636f726e656461626f6e64616e63652e636f6d0331373208633268685a4739330133046361740d340000121d62696c6c406175737472616c69616e636f6c6c6563746f72732e6e65740331313408624739325a513d3d013406636f696e730d2e00001318626f62406174656c6965726772617068697175652e636f6d03313033084d54497a4e445532013105626c75650d330000141b627261646c65794073636875796c6572696d706f7274732e636f6d03333033085a6d7876643256790134076f70656e75700d380000151e627261756e4070726563696f7573636f6c6c65637461626c65732e636f6d03333736084d5863795a544e6c013209436f6c6f7261646f0d390000161b62726f776e407374796c6973686465736b6465636f72732e6e6574033332340c6347467a63336377636d513d013109736b7920626c75650d3e0000172263616c616768616e406175737472616c69616e676f6c646e6574776f726b2e6e6574033333330c5a6e4a705a57356b63773d3d0134073132333435360d360000181d6361737369647940636c6f766572636f6c6c656374696f6e732e6e6574033138390c633356775a584a745957343d0133046361740d2f00001919636174686572696e654070657469746d6574616c732e6e657403333134085a3239765a32786c013105626c75650d3300001a1e63657276616e74657340636c6173736963676f6c6469646561732e6e657403333339086332317661325635013304646f670d3800001b1c6368616e646c6572406d656e72757372657461696c6572732e636f6d033334370c5a476c6e6158526862413d3d013307616e696d616c0d3c00001c23636c656e6168616e406175737472616c69616e636f6c6c65637461626c65732e6e6574033437310c5a474675615756736247553d013304646f670d3400001d1d6372616d6572406372616d65727370657a69616c697474656e2e636f6d03333335086147467962475635013406636f696e730d2f00001e1564616e40676f6c646964656173636f72702e6e6574033434370c5932396a59574e766247453d013105626c75650d2d00001f1664616e69656c406c796f6e636f696e6167652e6e65740332353008595842776247553d013106677265656e0d340000201b64616e69656c406d6574616c736173736f6369736369652e636f6d033235360c61577876646d56356233557a013304646f670d31000021186465766f6e40756b636f6c6c65637461626c65732e636f6d033230310c5a6d397664474a686247773d013304646f670d470000222b646f6e6e65726d6579657240626176617269616e636f6c6c65637461626c6573696d706f7274732e6e6574033431350c6232356c624739325a513d3d013307616e696d616c0d3800002322646f70726563696f7573717565406d6574616c7363616e616c70657469742e636f6d03343036085a4746736247467a013105626c75650d3b00002424646f726f746879406f6e6c696e657072656d69756d6372656174696f6e73636f2e6e65740333363308634739335a58493d01320654657861730d2c00002516656440626765636f6c6c65637461626c65732e6e657403323933085932397463474678013105626c75650d3d0000261d6564756172646f40656e61636f6469737472696275746f72732e636f6d033231360c6332396a593246794d513d3d01310b6c6967687420626c75650d390000271b66657565724066657565726f6e6c696e6573746f7265732e6e6574033434330c596e5669596d786c63773d3d013109736b7920626c75650d310000281b6672616e636f40667261756461636f6c6c657a696f6e652e636f6d03343733085957356e5a577778013105626c75650d2c000029176672616e6b656e406672616e6b656e676f6c642e6e65740332373308636d39696233513d013304646f670d3500002a1b66726472697175654070726563696f75736361726176792e6e6574033230390c6347467a63336476636d5178013405676f6c640d3a00002b1c67616f406b696e676b6f6e67636f6c6c65637461626c65732e6e6574033231310c61577876646d563562335578013109736b7920626c75650d3b00002c1e67656f72674073616c7a62757267636f6c6c65637461626c65732e636f6d033338320c59334a6c59585270646d553d013208466c6f726964610d2f00002d1867696f76616e6e6940726f76656c6c69676f6c642e636f6d03323738085a33567064474679013406636f696e730d3400002e1b67726168616d40646f776e756e646572636f696e6167652e6e657403333233085958567a64476c75013208466c6f726964610d2c00002f1768616e6e61406d6974766572676e67656e636f2e636f6d03343737086332467462586b3d0133046361740d320000301868656c656e40676f6c6462796d61696c636f756b2e6e6574033234300863323576623342350132094d6973736f7572690d2900003112686f6c7a407669646173706f72742e6e657403323938085a3239735a413d3d013106677265656e0d3200003218686f727374406e6174726c6963686d6574616c732e636f6d033232330c596d467a5a574a68624777780132054f68696f0d2c000033186a616d6573406c616e646f66636f696e73696e632e6e65740331333108614739775a513d3d0132034e590d320000341b6a616e6540766f6c766f6d6f64656c7265706c696361732e6e65740331343408625739306147567901320654657861730d3d000035216a65616e407175626563686f6d6573686f7070696e676e6574776f726b2e636f6d033233330862334a68626d646c01320b43616c69666f726e69610d31000036176a656666406d7573636c65636f696e73696e632e6e6574033135310c624756306257567062673d3d013405617364660d3d000037216a657272794063616d627269646765636f6c6c65637461626c6573636f2e636f6d033137330c615735305a584a755a58513d0134073132333435360d30000038176a6572727940676f6174676f6c6473746f72652e6e6574033131320c6347467a63336476636d513d013304646f670d29000039146a6573757340636166696d706f7274732e6e657403333434086248566a61336b3d013304646f670d3600003a1d6a696c6c406261616e6570726563696f7573696d706f7274732e6e6574033132310c63484a70626d4e6c63334d3d0133046361740d3600003b1b6a756c696540636f696e733467726f776e757073636f6d2e636f6d033230350c62576c6a6147466c62413d3d01320654657861730d3600003c1e6a756c696540636f72706f72617465676f6c646964656173636f2e636f6d0333323108595752746157343d0134077177657274790d3200003d166a756c696540676f6c646465706f74696e632e636f6d033137350c64326868644756325a58493d0134073132333435360d3100003e1a6a756c69654070726563696f75736d6574616c73636f2e636f6d0331323908633356746257567901320654657861730d2e00003f186a75726940676f6c6434616c6c61676573636f6d2e6e657403333632086147396a61325635013405617364660d37000040196b616c6c654073756f6d696e656e636f696e6167652e636f6d033333340c626d6c75644756755a47383d0132094e657720596f726b0d340000411a6b6172696e406b6f6d6d697373696f6e6d6574616c732e6e6574033336310c59323979646d56306447553d013105626c75650d300000421c6b61727474756e656e40636f696e736f6666696e6c616e642e6e6574033138360862574630636d6c3401320354580d35000043186b61746540626c617565727365656d6574616c732e6e6574033132380c61577876646d56356233553d013208466c6f726964610d33000044196b6569746840616d65726963616e62616e6b696e632e636f6d03313638086257397561325635013109736b7920626c75650d390000451d6b656c76696e407072656d69756d636c617373696373696e632e636f6d033135370c64484a3163335275627a453d0134073132333435360d360000461c6b6c6165626f65406e6f72776179676f6c6462796d61696c2e6e657403323939085932397662413d3d0132094e657720596f726b0d370000471d6b6f736b6974616c6f406f756c75746f79737570706c6965732e6e657403333131086257567962476c75013209436f6c6f7261646f0d2e000048196b75676572407361726469737472696275746f72732e6e657403333536085a5735305a58493d013304646f670d39000049246c617572656e6365406d61727365696c6c6570726563696f75736d6574616c732e6e6574033335300863334270636d6c30013304646f670d3900004a206c65736c6965406d6574616c73636f696e636c617373696373696e632e636f6d033139380c634739725a57317662673d3d0133046361740d3300004b196c65736c696540737570657273696c766572696e632e636f6d0334353508596d466965513d3d0132094e657720596f726b0d3c00004c256c696e636f6c6e40726f79616c63616e616469616e636f6c6c65637461626c65732e6e6574033236300863326c73646d5679013406636f696e730d3900004d1b6d6172696140636c61737369636c6567656e6473696e632e636f6d033432340c62576c6a636d397a62325a30013109736b7920626c75650d3100004e176d61726b406c61726f6368656c6c65676f6c642e6e6574033131390c4d54497a4e4455324e7a673d0132054f68696f0d2f00004f1a6d61727461406d61727461737265706c69636173636f2e636f6d03323836085a474672623352680131047265640d38000050206d6172746861407363616e64696e617669616e676f6c6469646561732e636f6d0334343808624739326157356e013307616e696d616c0d3a000051226d617274696e654064616564616c757364657369676e73696d706f7274732e636f6d033137310859584e6b5a673d3d0134073132333435360d2e000052166d61727940626f61726473636f696e73636f2e636f6d033231390c61577876646d5635623355680132034e590d3c0000531c6d617474406575726f73686f7070696e676368616e6e656c2e6e6574033134310c6247397661326c755a773d3d01310b6c6967687420626c75650d310000541b6d617572697a696f406c6f7264696e65636f696e6167652e6e657403333836086332786865575679013405676f6c640d380000551a6d636b656e6e6140617369616e7472656173757265732e6e6574033334380c64476831626d526c63673d3d0132094e657720596f726b0d39000056206d63726f794065787472656d656465736b6465636f726174696f6e732e636f6d033431320c6447567a6448526c6333513d013304646f670d32000057166d656c4064657268756e64696d706f7274732e6e6574033330370c63324e766233526c63673d3d0134073132333435360d2d000058196d69636861656c40766974616368726f6d65696e632e6e657403313831086347467a63773d3d013203464c0d3e000059256d696775656c406f6e6c696e6570726563696f7573636f6c6c65637461626c65732e6e65740332303408614756736347316c013208466c6f726964610d2e00005a176d6f7279406f73616b61636f696e616765636f2e6e657403313737085932686c5a584e6c01320654657861730d2f00005b1a6f6861726140616e6e61736465636f726174696f6e732e636f6d033237360863475668626e5630013304646f670d3b00005c1d70616c6c65406865696e747a65636f6c6c65637461626c65732e636f6d033232370c6358646c636e52354d513d3d01340970617373776f72640d3100005d1670616f6c6f40616d696361636f696e73636f2e636f6d033234390c6447567a64476c755a773d3d013406636f696e730d3200005e18706173696c76657240726f79616c6562656c67652e636f6d033338310c6358646c636e52354d513d3d013105626c75650d3000005f1a7061756c407265696d73636f6c6c65637461626c65732e636f6d0333353308596d46755a476c30013105626c75650d330000601e7066616c7a6865696d40746f6d737370657a69616c697474656e2e6e657403323539085932467559575268013304646f670d410000612172656e617465406d6573736e657273686f7070696e676e6574776f726b2e636f6d033234370c6258567a644746755a773d3d01320b43616c69666f726e69610d3a000062257269746140737475747467617274636f6c6c65637461626c6565786368616e67652e636f6d03343039085a334a6c5a57343d0131047265640d2f00006316726f6240736176656c657968656e72696f742e6e657403313436086147467763486b3d013208466c6f726964610d340000641b726f6472696775657a406c6973626f61636f696e6167652e6e6574033336390c596d5675616d46746157343d013304646f670d340000651a726f656c40696265726961676f6c64696d706f7274732e636f6d033438340c62476c6e614852756157356e013105626c75650d370000661e726f6c616e644070726563696f75736d6574616c737765726b652e636f6d033435320c625746346432567362413d3d0133046361740d3a00006721726f736140636f696e726d696e746469737472696275746f7273696e632e636f6d033438360c636d56745a5731695a58493d0133046361740d380000682073616c6c794064616e69736877686f6c6573616c65696d706f7274732e636f6d033134350c5a6d397664474a686247773d0132034e590d330000691973616d40746563686e69637373746f726573696e632e636f6d033136310859574a6a4d54497a0132094e657720596f726b0d3700006a1f73656d656e6f76406b72656d6c696e636f6c6c65637461626c65732e636f6d0334383008626d39755a513d3d013307616e696d616c0d3400006b1f7368696d616d75726140746f6b796f636f6c6c65637461626c65732e636f6d033339380864326c7a5a4739740133046361740d3200006c16736b7940686176656c7a6279737a656b636f2e636f6d033132350863326c755a32786c01320b43616c69666f726e69610d3900006d20736d69746840646f75626c656465636b6572676f6c6473746f7265732e636f6d033438390c6247563062575670626a453d013304646f670d3500006e20736f6d6d657240636f72726964616d6574616c737265706c696361732e6e657403343538085a47563464475679013304646f670d2c00006f17737465766540647261676f6e636f696e6167652e636f6d03313438086358646c636e52350133046361740d380000701a73746576654070726563696f7573636c6173736963732e6e6574033331390c63335268636e52795a57733d013209436f6c6f7261646f0d3a0000712173746576654077657374636f617374636f6c6c65637461626c6573636f2e6e657403343735084e5455314e5455310134086c65746d65696e0d390000721d737565407369676e616c636f6c6c65637469626c65736c74642e6e657403343837086233426c626e567701320b43616c69666f726e69610d360000731d737565407468657368617270676f6c6477617265686f7573652e6e6574033435300c6347467a63336476636d51680133046361740d4500007425737573616e4070726563696f7573676f6c646469737472696275746f72736c74642e636f6d033132340c6333567563326870626d553d01320b43616c69666f726e69610d34000075187376656e407761726275726765786368616e67652e636f6d033435390861326c306447567501310b6c6967687420626c75650d3500007617746f6e79406b656c6c7973676f6c6473686f702e6e6574033439360c63335268636e6468636e4d3d013109736b7920626c75650d430000772876616c6172696540636f6c6c65637461626c6570726563696f757364657369676e73636f2e636f6d033233390c616d5675626d6c6d5a58493d013406636f696e730d350000781f76616c61726965407072656d69756d636f6c6c65637461626c65732e636f6d03343935086248566a61336b78013105626c75650d2800007912766579406865726b6b75676f6c642e6e657403313637085a484a685a323975013105626c75650d3000007a1b76696f6c6574614066756e676f6c646964656173636f6d2e636f6d03343632086333526c62477868013304646f670d3300007b1777616c657340676f6c64666f7268696d636f6d2e6e6574033335370c595735306147397565513d3d0134076f70656e75700d3400007c1f77616c6b657240617369616e73686f7070696e676e6574776f726b2e636f6d03323036086332566a636d5630013304646f670d3000007d1677656e64794068616e646a69676f6c64636f2e636f6d0331363608614756736247383d013109736b7920626c75650d3500007e2077696c6c69616d4074656b6e69636f6c6c65637461626c6573696e632e6e6574033332380864326c75626d56790131047265640d3b00007f1d77696e674070726563696f75736372656174696f6e736c74642e6e6574033332300c62574630636d6c3449513d3d01340970617373776f72640d4200008025796f7368694063616e616469616e676f6c6465786368616e67656e6574776f726b2e636f6d033230320c596d786861474a735957673d0134086c65746d65696e0d2f000081157975406d6963726f73696c766572696e632e636f6d033435360863484a70626d4e6c0132094e657720596f726b0d05000082fe00002100'.decode('hex')

res = connections.MySQLResult(connections.Result(data))
#tracer.runfunc(res.read)
#tres = tracer.results()
try:
	res.read()
	print '[*] Message:\t%s'%str(res.message)
	print '[*] Description:\t%s'%str(res.description)
	print '[*] Rows:'
	for r in res.rows:
		print r
except:
	print sys.exc_info()[1]
